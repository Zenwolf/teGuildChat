Based on node-camp chat demo.
